### ROUTING TABLE
---
### 0. 데이터 링크 계층의 한계
- 물리 계층과 데이터 링크 계층만으로는 LAN을 넘어서 통신하기 어려운 두 가지 이유
  - 다른 네트워크까지의 도달 경로를 파악하기 어려움
  - 모든 네트워크에 속한 모든 호스트의 위치를 특정하기 어려움
- 라우터(router) : 라우팅을 수행하는 대표적인 장비
- 라우팅(routing) : 패킷이 이동할 최적의 경로를 결정하는 것
---
### 1. 라우터(Router)
- 네트워크 간 통신을 가능케 하는 네트워크 계층의 장비
  - 네트워크 간 통신 과정에서 패킷은 여러 라우터를 거쳐서 다양한 경로로 이동할 수 있음
  - 패킷은 여러 대의 라우터를 거치듯 수신지까지 이동
- 라우팅 과정(홉 수) 확인
  - 명령어 : `traceroute ${url}`
- 라우팅 수행 방법
  - 라우팅 테이블이 만들어지는 방법과 프로토콜에 따라 라우팅이 분류됨
---
### 2. 라우팅 테이블
- 특정 수신지까지 도달하기 위한 정보를 명시한 표와 같은 정보
- 라우터는 라우팅 테이블을 참고하여 수신지까지의 도달 경로를 판단
- 라우팅 테이블에 포함된 정보
  - 수신지 IP 정보와 서브넷 마스크
    - 최종적으로 패킷을 전달할 대상
  - 다음 홉
    - 최종 수신지까지 가기 위해 다음으로 거쳐야 할 호스트의 IP 주소나 인터페이스
    - '게이트웨이'로 명시되기도 함 
  - 네트워크 인터페이스
    - 패킷을 내보낼 통로
    - 인터페이스 이름이 직접 명시되거나 인터페이스에 대응하는 IP 주소 명시
  - 메트릭
    - 해당 경로로 이동하는 데에 드는 비용
    - 라우팅 테이블의 여러 경로 중 메트릭이 낮은 경로 선호 
  - 디폴트 라우트 : 라우팅 테이블에 경로가 없을 때
    - 기본적으로 패킷을 내보낼 경로
    - 모든 IP 주소를 의미하는 `0.0.0.0/0`로 명시
    - 일반적으로 기본 게이트웨이 주소 = 디폴트 라우트
      - 기본 게이트웨이 = 네트워크 외부로 나가기 위한 첫 경로
      - 라우팅 테이블에 따로 경로가 등록되어 있지 않은 패킷들을 기본적으로 기본 게이트웨이에게 전달
- 라우팅 테이블 확인하기
  - 리눅스 : `netstat -rn`
---
### 3. 라우팅의 분류
- 정적 라우팅 : 수동으로 구성된 라우팅 테이블 항목을 통해 수행되는 라우팅
  - 사용자가 수동으로 직접 채워널은 라우팅 테이블의 항목을 토대로 라우팅
  - Ex) `10.0.0.0/24`로 향하는 패킷을 `192.168.1.1`게이트웨이로 정적 라우팅
    -> mac `sudo route add -net 10.0.0.0/24 192.168.1.1`
    -> linux `sudo route add -net 10.0.0.0 netmask 255.255.255.0 gw 192.168.1.1`
- 동적 라우팅 : 자동으로 라우팅 테이블 항목을 만들고 이를 이용하여 라우팅
- 
