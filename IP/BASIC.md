# IP BASIC
---
### 1. IP(Internet Protocol)란
- 인터넷에 연결된 모든 장치(컴퓨터, 스마트폰, 서버 등)를 식별할 수 있도록 부여되는 고유 주소
- 다른 사람에게 우편을 보내기 위해 주소가 필요하듯, 네트워크에서도 IP 주소가 필요
---
### 2. IPv4 / IPv6
**1) IPv4**
- IPv4는 “IP version 4”의 약자.  
- 일반적으로 “192.168.1.1” 같이 마침표(.)로 구분된 네 개의 10진수로 표현된다.  
- 32비트 주소 체계 → 약 \(2^{32}\) ≒ **43억 개** 주소 가능.  
- 사용자 및 장치 수 증가로 인해 주소 고갈 우려가 있음.

**2) IPv6**
- “IP version 6”. IPv4의 한계를 극복하기 위해 개발됨.  
- 128비트 주소 체계로, 8개의 16비트 부분을 콜론(:)으로 구분하여 표현됨.  
- 약 \(2^{128}\)개의 주소 가능 → 사실상 주소 부족 문제 해소됨.  
- 기존 인프라 변경 및 비용 등의 이유로 아직 완전한 대체는 이루어지지 않음.

**3) IP 주소 고갈 문제**
- 가정마다 여러 전자기기(와이파이 공유기, 스마트TV, 스마트폰 등)를 사용함에 따라 필요한 주소 수가 급증
- IPv4 주소는 한정적  
- 이런 수요를 충족시키기 위해 사설 IP 개념, NAT 등 활용
---
### 3. 단편화
- 전송하고자 하는 패킷의 크기를 MTU 이하의 복수 패킷으로 분할하는 것
- MTU (Maximum Transmission Unit)
  - 한 번에 전송 가능한 IP 패킷의 최대 크기
  - IP패킷의 헤더도 MTU 크기에 포함됨
  - MTU 크기 이하로 분할된 패킷은 수신지 도달 시 재조합됨
---
### 4. IP 패킷의 핵심 필드
1) 식별자
- 패킷에 할당된 번호
- 분할되어 도착한 IPv4 패킷들이 어느 메세지에서 분할되었는지 식별하기 위해 사용
2) 플래그
- 세 개의 bit로 구성
- 첫 번째 비트
  - 항상 0, 사용하지 않음
- DF bit(Dont't Fragment)
  - 단편화 수행 불가능 여부 표기
  - 0 : 단편화 가능
  - 1 : 단편화 불가능
- MF bit (More Fragment)
  - 단편화된 패킷이 더 남았는지 여부 표기
  - 0 : 마지막 패킷
  - 1 : 분할된 패킷이 더 있음
3) 단편화 오프셋

4) TTL

5) 프로토콜

6) 송신지 IP 주소

7) 수신지 IP 주소

---
## 4. 공인 IP, 사설 IP, 고정 IP, 유동 IP

| 용어 | 뜻 |
|--|--|
| 고정 IP | 할당된 후 변경되지 않는 IP. 기관, 업체 등 보안이 중요하거나 지속 서비스에 적합함. |
| 유동 IP | 일정 주기 또는 접속 시점마다 ISP가 가용한 IP를 임시로 할당함. 대부분 가정 사용자에게 해당됨. |
| 공인 IP | ISP가 관리하는 범위에서 할당 받은 전 세계 유일한 IP. 외부 인터넷에 직접 노출 가능함. |
| 사설 IP | 내부 네트워크(가정, 회사 등) 내에서만 사용되는 IP. 공유기 등이 내부 기기에 할당함. 외부에서 직접 접근 불가함. |

- 공인 IP는 전 세계적으로 유일함  
- 사설 IP는 특정 네트워크 내에서만 유일함  
- 컴퓨터, 스마트폰 등이 동일 네트워크 내에 있을 경우 서로 통신 가능 (사설 IP)  
- 다른 네트워크에 속한 경우 사설 IP만으로는 직접 통신 불가능

---

## 5. 사설 IP & 사설망 원리

- 사설망(Private Network)은 공유기나 라우터를 통해 구성됨.  
- 공유기까지는 공인 IP, 공유기에 연결된 내부 장치들은 사설 IP를 받음.  
- 내부 장치들끼리는 사설 IP로 통신 가능함.  
- “같은 번호의 사설 IP라도 네트워크가 다르면 전혀 다른 장치로 취급됨.”  
  예: 네트워크 A의 192.168.10.2 ≠ 네트워크 B의 192.168.10.2

---

## 6. NAT (Network Address Translation)

- 사설망 내 장치가 외부 인터넷과 통신하려면 NAT가 필요함.  
- 공유기(또는 라우터)가 내부 사설 IP들을 하나의 공인 IP 또는 할당된 공인 IP들로 변환(주소 번역)함.  
- 외부에서 보면 요청은 공유기의 공인 IP에서 온 것처럼 보임.  
- 공유기는 내부에서 어떤 장치가 요청했는지 기억하고 있다가 응답을 해당 장치에 전달함.

---
