# IP BASIC
---
### 1. IP(Internet Protocol)란
- 인터넷에 연결된 모든 장치(컴퓨터, 스마트폰, 서버 등)를 식별할 수 있도록 부여되는 고유 주소
- 다른 사람에게 우편을 보내기 위해 주소가 필요하듯, 네트워크에서도 IP 주소가 필요
<img width="653" height="53" alt="image" src="https://github.com/user-attachments/assets/0065657a-94ff-4d82-a345-a14038b016b2" />

---
### 2. IP의 공식적인 기능
1) 단편화
- 전송하고자 하는 패킷의 크기를 MTU 이하의 복수 패킷으로 분할하는 것
- MTU (Maximum Transmission Unit)
  - 한 번에 전송 가능한 IP 패킷의 최대 크기
  - IP패킷의 헤더도 MTU 크기에 포함됨
  - MTU 크기 이하로 분할된 패킷은 수신지 도달 시 재조합됨
<img width="1147" height="275" alt="image" src="https://github.com/user-attachments/assets/7fba233b-7970-478c-a06b-481787cf03ab" />

2) 주소 지정
- 송신지 주소
- 수신지 주소
---
### 3. IP 패킷의 핵심 필드
- 단편화에 주로 관여하는 필드
1) 식별자
2) 플래그
3) 단편화 오프셋
- 라우팅에 주로 관여하는 필드
4) TTL
5) 프로토콜
6) 송신지 IP 주소
7) 수신지 IP 주소
---
### 4. 식별자
- 패킷에 할당된 번호
- 분할되어 도착한 IPv4 패킷들이 어느 메세지에서 분할되었는지 식별하기 위해 사용
---
### 5. 플래그
- 세 개의 bit로 구성
- 첫 번째 비트
  - 항상 0, 사용하지 않음
- DF bit(Dont't Fragment)
  - 단편화 수행 불가능 여부 표기
  - 0 : 단편화 가능
  - 1 : 단편화 불가능
- MF bit (More Fragment)
  - 단편화된 패킷이 더 남았는지 여부 표기
  - 0 : 마지막 패킷
  - 1 : 분할된 패킷이 더 있음
---
### 6. 단편화 오프셋 (fragment offset)
- 초기 데이터에서 몇 번째로 떨어진 패킷인지 나타냄
  - 패킷 단편화 후 전송 -> 수신지에 순서를 지키지 않고 도착할 수 있음
  - 재조합 시 패킷을 순서대로 조합하기 위해 순서를 알아야 함
  - 각 단편화된 패킷이 초기 데이터에서 몇 번째에 해당하는 패킷인지 표기
---
### 7. TTL (Time To Live)
- 패킷의 수명
- 무의미한 패킷이 네트워크 상에 지속적으로 남는 것을 방지
- 패킷이 하나의 라우터를 거칠 때마다 TTL 1씩 감소
- TTL이 0으로 떨어진 패킷은 폐기
- 홉(Hop) : 패킷이 라우터 혹은 호스트에 한 번 전달되는 것
  - TTL 필드 값은 홉마다 1씩 감소 
---
### 8. 프로토콜
- 상위 계층의 프로토콜이 무엇인지를 나타내는 필드
---
